---
title: "3080 Lab Lecture1"
author: "Julie Sherman"
date: "1/5/2022"
output: 
# bookdown::html_document2: default
  html_document:
    toc: yes
  pdf_document:
    toc: yes    
---

## R Markdown Review

It is my goal in this section to review basic aspects of Rmarkdown. This includes techniques to add flourishes like bullet-point lists, bold and italicized words, sections and equations. I expect you to make use of these things in your projects as simply commented code will no longer be sufficient. 



### Beyond a bunch of text

Repeat things verbatim using the tilted apostrophe (on my computer under the ~) around the text you want repeated ``executable command``. I will use this much throughout this lab as you will see it allows me to show the commands which lead to a certain outcome without executing the command and therefore masking what was literally typed.


# Section Title
  `# Section Title`

## Subsection Title
  `## Subsection Title`

### Subsubsection Title
 `### Subsubsection Title`



### Lists
* Item 1
* Item 2
  + Item 2a
  + Item 2b 
  
```
* Item 1
* Item 2
  + Item 2a
  + Item 2b
```

1. Item 1
2. Item 2
  + Item 2a
  + Item 2b 
  
```
1. Item 1
2. Item 2
  a. Item 2a
  b. Item 2b
```


*italic*   **bold**

_italic_   __bold__


```
*italic*   **bold**

_italic_   __bold__
```





### Code Chunks

To set chunk options globally, call `knitr::opts_chunk$set()` in a code chunk (usually the first one in the document), e.g.,

````
```{r, include=FALSE}`r''`
knitr::opts_chunk$set(
  echo = FALSE, fig.width = 6
)
```
````


Otherwise, you can specify (or override global options) in each individual chunk. The options include - 

* `include = FALSE` prevents code and results from appearing in the finished file. R Markdown still runs the code in the chunk, and the results can be used by other chunks.
* `echo = FALSE` prevents code, but not the results from appearing in the finished file. *This is a useful way to embed figures.*
* `results = 'hide'` prevents results, but not the code from appearing in the finished file. However, warnings are errors may still appear!
* `message = FALSE` prevents messages that are generated by code from appearing in the finished file.
* `warning = FALSE` prevents warnings that are generated by code from appearing in the finished file.
* `fig.cap = "..."` adds a caption to graphical results.
* `fig.width = ...` adjusts the size of the figure.


We will test these on the example block below.
```{r}
#warning("hello")
#3+
#plot(iris$Sepal.Width~iris$Sepal.Length*iris$Species)
```

## Using `knitr`
This will allow you to easily customize figures and tables. There are ''shorter'' ways to do these things which I will demonstrate after, but they are much less flexible

### Figures and Images
Say you have an image you wish to include that is stored on your computer. To turn it into a figure you only need the following - the `knitr` package and the figure path.
The syntax may look scary but it's actually quite simple. The `knitr::` above tells R to look in the knitr package for the include_graphics function.



```{r, fig.cap="The character shown here is Marshall from How I Met Your Mother", fig.align='center', out.width = '100%'}
knitr::include_graphics('C:/Users/Julie/Documents/MATH/Utah/Teaching/3070 - R Lab/himym.png')
```

The shorter (and less customizable way) to include it is simply `![alt text](path-to-image)`. However, we cannot add captions, change the figure size and alignment, etc using this syntax. Thus, I **strongly recommend** using the previous option.

For example:
`![How I Met Your Mother Meme](C:\Users\Julie\Documents\MATH\Utah\Teaching\3070 - R Lab\himym.png)` yields
![How I Met Your Mother Meme](C:\Users\Julie\Documents\MATH\Utah\Teaching\3070 - R Lab\himym.png)

To get numbered figures and tables, you can use the `bookdown` package. This is particularly useful especially for long assignments/papers and it has a feature for cross-referencing. I will not go into it now, but can consider showing it later if it is of interest.

### Tables
```{r}
my_tab<-head(iris)
knitr::kable(my_tab)
```

You can do this manually with

First Header  | Second Header
------------- | -------------
Content Cell  | Content Cell
Content Cell  | Content Cell



```` 
First Header  | Second Header
------------- | -------------
Content Cell  | Content Cell
Content Cell  | Content Cell
````



### Links
* [Here's a link to Rmarkdown Resource](https://rmarkdown.rstudio.com/authoring_basics.html). 
  * And here's now I did it 
`[Here's a link to Rmarkdown Resource](https://rmarkdown.rstudio.com/authoring_basics.html)`
* Alternatively if you don't mind seeing the link <http://rmarkdown.rstudio.com>
  * `<http://rmarkdown.rstudio.com>`


# $\LaTeX$

$\LaTeX$ is a very important typesetting language in math.  If you take upper division math courses you may have to begin typesetting your homework. It's so worth it! Use dollar signs around your equations. The backslashes give commands for special characters and arrangements. For instance Greek letters, fractions, square roots, sums  and much more. Here's a [reference sheet](https://joshua.smcvt.edu/undergradmath/undergradmath.pdf) for basics. Google is also a great resource.

* Inline equation $\sum_{n=1}^\infty \frac{\lambda^n}{n!}$ `$\sum_{n=1}^\infty \frac{\lambda^n}{n!}$`

* Display equation  `$$\sqrt{\chi^2}$$` $$\sqrt{\chi^2}$$

# R Review

I don't hope to recall all we learned last semester, but rather overview just a few of the fundamental and commonly used capabilities. Remember if you're ever stuck on something, consider using the Help tab, possibly by using something like `?t.test`. Also, the documentation for R is amazing! Google _almost always_ has an answer.

## Vectors, Lists, Dataframes
```{r}
vec<-c(1,2,3)

lis<-list("Object 1" = "a", "Object 2" = c(1,2))

L3 <- LETTERS[1:3]
fac <- sample(L3, 10, replace = TRUE)
d <- data.frame(x = 1, y = 1:10, fac = fac)
d
```

## Functions
Recall the basic syntax of functions is
````
function_name <- function(arg_1, arg_2, ...) {
   Function body 
}
````
Here, the last line of the function body will be returned. Note that we can also add default values to the function arguments by setting `arg_1=default_1` in the function definition.

So, to write a function that  takes the first arguments to the power of the second with a default exponent of 0...

```{r}
exponentiate<-function(base, exponent=0)
{
  base^exponent
}
exponentiate(base=3, exponent=2)

```

## Plotting
We learned about using base R as well as `ggplot2` to plot in R. Although an unpopular opinion, I tend to prefer base R and will probably use that for most of the plotting in this class.
```{r, fig.cap="I made a figure!"}

xvals<-runif(100)
yvals<-xvals*6-3 +rnorm(100,mean = 0,sd = 0.1)

plot(xvals, yvals, xlab = "Uniform Random Variables")

lines(xvals, 6*xvals-3, col = "red")

legend("topleft",c("sample","fit"),lty = c(NA,1), col = c("black","red"), pch = c(1, NA))
```

Overlay a line with 

## Statistical Tests

### t test
We learned the t test to investigate hypotheses about the mean of one or more samples. The important assumptions are normality and independence of samples. There were three types

* **One-sample t test** tests against the null hypothesis that the mean of one group is zero.
* **Two-sample t test**  tests against the null hypothesis that the mean of the two (independent) groups is zero.
* **Paired-sample t test** tests against the null hypothesis that the mean of the two (related) groups is zero.
* With more than one group, should check for equal variances (more on this later).
* We can change the null mean or mean difference to something else using `mu=2`, for example.
* Default is two-sided alternative hypothesis, which can also be changed.
* If variance is known can use the Z-test for a more powerful test.

One-Sample Example
```{r}
set.seed(123) 
sugar_cookie <- rnorm(30, mean = 9.99, sd = 0.04)
head(sugar_cookie)
## Check normality!
qqnorm(sugar_cookie)
qqline(sugar_cookie)
## Test Null Hypothesis
t.test(sugar_cookie,mu=10)
```

Paired-Sample Example
```{r}
set.seed(64)
# sales before the program
sales_before <- rnorm(7, mean = 50000, sd = 50)
# sales after the program.This has higher mean
sales_after <- rnorm(7, mean = 50075, sd = 50)
# draw the distribution
t.test(sales_before, sales_after,var.equal = TRUE)
```

### Proportions Test
Another assumption of the t test is that the data comes from a continuous distribution. Often, the data we are concerned with is not. For example, we often wonder about yes/no questions, an example of Bernoulli or Binomial distributions. To test if the proportion of yeses is equal to half, for instance, we use
`prop.test` or `binom.test`. The syntax may be a little different between the two, so I recommend checking out the help page!

## Misc Important Functions
* `rep, replicate`
* `apply, lapply, sapply`
* `which`
* `with`
* `set.seed, sample`